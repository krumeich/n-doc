\documentclass[a4paper]{scrreprt}

\newcommand{\thisdocument}{ate_cov}
\newcommand{\documenttitle}{Test Coverage ATE\_COV}

\input{../common/common-preamble}



% Print file names in narrow font
\renewcommand{\filename}[1]{{\narrowfilefont #1}}

\usepackage[paper=a4paper, landscape]{geometry}
\KOMAoptions{paper=a4,paper=landscape,usegeometry}



\newcommand*\ndocNumberOfTestcasesPer{\GetTranslation{ndoc@NumberOfTestcasesPer}}
\DeclareTranslationFallback {ndoc@NumberOfTestcasesPer}{Number of Test Cases per}
\DeclareTranslation{English}{ndoc@NumberOfTestcasesPer}{Number of Test Cases per}
\DeclareTranslation{German} {ndoc@NumberOfTestcasesPer}{Anzahl der Testfälle pro}

\DeclareTranslationFallback {ndoc@testcases}{Test Cases}
\DeclareTranslation{English}{ndoc@testcases}{Test Cases}
\DeclareTranslation{German} {ndoc@testcases}{Testfälle}

\newcommand*\ndocNumber{\GetTranslation{ndoc@number}}
\DeclareTranslationFallback {ndoc@number}{\#}
\DeclareTranslation{English}{ndoc@number}{\#}
\DeclareTranslation{German} {ndoc@number}{Anz.}

\newcommand*\ndocModule{\GetTranslation{ndoc@module}}
\DeclareTranslationFallback {ndoc@module}{Module}
\DeclareTranslation{English}{ndoc@module}{Module}
\DeclareTranslation{German} {ndoc@module}{Modul}


\begin{document}
\selectlanguage{english}

\input{../common/titlepage-landscape}

\cleardoublepage{}

\tableofcontents

\cleardoublepage{}

\newgeometry{left=1.5cm, right=1.5cm, top=1.5cm, bottom=3cm}

\hrefchapter{intro}{\GetTranslation{Introduction}}

This document is the test coverage \secitemformat{ATE\_COV} for
\thisproductlong{}. The tables in the following sections show the TOE's test
coverage. The tables show different representations of the same
data. \autoref{tests} lists each test case and sets it into relation to the TDS
module, the SFR and TSFI, that are covered by this test case. Before that, the
tables in \autoref{summary} show summaries: The number of test cases per TDS
module, per SFR and per TSFI. All tables are based on the entities and relations
defined in the database \filename{mauvecorp\_vpn\_client.db}. Further quieries
in the evaluation process can be generated from the tables \code{testcases},
\code{testcase\_module}, \code{testcase\_sfr} and \code{testcase\_tsfi}.


% Das vorliegende Dokument ist die \secitemformat{ATE\_COV} zu
% \thisproductlong{}. Die Tabellen in den folgenden Abschnitten zeigen die
% Testabdeckung des TOE. Dabei werden dieselben Daten unterschiedlich
% aufbereitet. \autoref{tests} listet jeden Testfall auf und benennt dazu das
% TDS-Modul, die SFR und die TSFI, die von diesem Testfall abgedeckt werden. Zuvor
% zeigen die Tabellen in \autoref{summary} Zusammenfassungen an: Die Anzahl der
% Testfälle pro TDS-Modul, pro SFR und pro TSFI. Alle Tabellen basieren auf
% Abfragen der Datenbank \filename{mauvecorp\_vpn\_client.db}. Weiter gehende
% Abfragen für den Evaluationsprozess können daraus erstellt werden. Die
% relevanten Tabellen sind \code{testcases}, \code{testcase\_module},
% \code{testcase\_sfr} und \code{testcase\_tsfi}.
 
\hrefchapter{summary}{\GetTranslation{Summary}}

\hrefsection{summary.nummodules}{\ndocNumberOfTestcasesPer{} TDS Module}

{\footnotesize
\begin{longtable}{@{}L{5.8cm}>{\tiny}lrL{5.8cm}>{\tiny}lrL{5.8cm}>{\tiny}lr@{}}
  \toprule Modul & {\footnotesize Status} & \ndocNumber & Modul & {\footnotesize Status} & \ndocNumber & Modul & {\footnotesize Status} & \ndocNumber \\ \midrule \endhead
  \bottomrule \endfoot
  \directlua{print_module_to_num_testcase_table()}
\end{longtable}
}

\clearpage\hrefsection{summary.numsfr}{\ndocNumberOfTestcasesPer{} SFR}

{\footnotesize
\begin{longtable}{@{}L{3.4cm}r@{\hspace{1.3cm}}L{3.4cm}r@{\hspace{1.3cm}}L{3.4cm}r@{\hspace{1.3cm}}L{3.4cm}r@{}}
  \toprule SFR & \ndocNumber & SFR & \ndocNumber & SFR & \ndocNumber & SFR & \ndocNumber\\ \midrule \endhead
  \bottomrule \endfoot
  \directlua{print_sfr_to_num_testcase_table()}
\end{longtable}
}

\clearpage\hrefsection{summary.numtsfi}{\ndocNumberOfTestcasesPer{} TSFI}

{\footnotesize
\begin{longtable}{@{}L{4cm}r@{\hspace{1.5cm}}L{4cm}r@{\hspace{1.5cm}}L{4cm}r@{}}
  \toprule TSFI & \ndocNumber & TSFI & \ndocNumber & TSFI & \ndocNumber \\ \midrule \endhead
  \bottomrule \endfoot
  \directlua{print_tsfi_to_num_testcase_table()}
\end{longtable}
}


\hrefchapter{tests}{\GetTranslation{ndoc@testcases}}

{\footnotesize
\begin{longtable}{@{}lL{7cm}L{9cm}L{7cm}@{}}
  \toprule ID & \GetTranslation{ndoc@subsystemmodule} & SFR & TSFI \\ \midrule \endhead
  \bottomrule \endfoot
  \directlua{print_testcase_table()}
\end{longtable}
}


%\input{../common/tls_appendix}


\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% TeX-engine: luatex
%%% TeX-parse-self: t
%%% TeX-auto-save: t
%%% End:
